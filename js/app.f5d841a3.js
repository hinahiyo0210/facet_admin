(function(){"use strict";var e={7461:function(e,n,t){var i=t(5130),a=t(6768);const o={class:"main_wrapper"};function l(e,n,t,i,l,r){const c=(0,a.g2)("MainHeader"),_=(0,a.g2)("TopPage");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(c),(0,a.bF)(_)])}var r=t(4232);const c={class:"header"},_=(0,a.Lk)("h1",null,"facetCloud契約管理画面",-1),s={id:"basicLoginUser"};function d(e,n,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",c,[_,(0,a.Lk)("h3",null,[(0,a.eW)("ログイン「"),(0,a.Lk)("span",s,(0,r.v_)(o.user),1),(0,a.eW)("」")])])}const u=t(6425);var f={data(){return{user:""}},mounted(){console.log(location.host),u.get(location.origin+"/admin/backend/basic").then((e=>this.user=e.data))}},m=t(1241);const p=(0,m.A)(f,[["render",d]]);var v=p;const k=e=>((0,a.Qi)("data-v-1353d8da"),e=e(),(0,a.jt)(),e),y={action:"#",name:"facet_admin_form"},g={class:"main_content"},x=k((()=>(0,a.Lk)("h2",null,"テナント",-1))),h={class:"form_wrapper"},L={class:"flex_box"},X={class:"form_container"},C=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("テナント選択"),(0,a.Lk)("span",{class:"required"},"*")],-1))),E=k((()=>(0,a.Lk)("option",{value:""},null,-1))),w=["value"],b={key:0,class:"type_select_wrapper"},W=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("区分"),(0,a.Lk)("span",{class:"required"},"*")],-1))),I={class:"type_select_container"},Q={class:"type_select_box"},A=k((()=>(0,a.Lk)("label",null,"追加",-1))),P={class:"type_select_box"},j=k((()=>(0,a.Lk)("label",null,"更新",-1))),B={class:"type_select_box"},T=k((()=>(0,a.Lk)("label",null,"削除",-1))),O={class:"type_select_box"},M=k((()=>(0,a.Lk)("label",{style:{"font-size":"1rem"}},"初期化",-1))),N={key:0},U=k((()=>(0,a.Lk)("h2",null,"契約関連",-1))),$={class:"form_wrapper"},q={key:0,class:"form_container"},D=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("契約名"),(0,a.Lk)("span",{class:"required"},"*")],-1))),F=k((()=>(0,a.Lk)("option",{value:""},null,-1))),S=["value"],V={key:1,class:"form_container"},K=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("契約名"),(0,a.Lk)("span",{class:"required"},"*")],-1))),G=k((()=>(0,a.Lk)("input",{type:"text",name:"contractor_name",class:"main_text"},null,-1))),z=[K,G],H={key:2,class:"form_container"},Y=k((()=>(0,a.Lk)("h3",null,"ds-api-token",-1))),J=["value"],R={key:3,class:"flex_box"},Z={class:"form_container relative"},ee=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("接続デバイス上限数"),(0,a.Lk)("span",{class:"required"},"*")],-1))),ne={key:0,type:"number",name:"allow_device_num"},te=["value"],ie=["value"],ae={class:"allow_device"},oe={class:"allow_device_count"},le={key:4,class:"form_container"},re=k((()=>(0,a.Lk)("h3",null,"サブドメイン",-1))),ce={key:0,type:"text",name:"domain",class:"main_text"},_e=["value"],se=["value"],de={key:5,class:"check_container"},ue=k((()=>(0,a.Lk)("h3",null,"APB 機能",-1))),fe={key:0,class:"ckeck_box"},me=k((()=>(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkAPB",name:"apb_mode_flag"}),(0,a.Lk)("label",{for:"checkAPB"})],-1))),pe=[me],ve={key:1,class:"ckeck_box"},ke=["checked"],ye=k((()=>(0,a.Lk)("label",{for:"checkAPB"},null,-1))),ge={key:6,class:"flex_box"},xe={class:"check_container"},he=k((()=>(0,a.Lk)("h3",null,"入退管理 機能",-1))),Le={key:0,class:"ckeck_box"},Xe=k((()=>(0,a.Lk)("label",{for:"checkEE"},null,-1))),Ce={key:1,class:"ckeck_box"},Ee=["checked"],we=k((()=>(0,a.Lk)("label",{for:"checkEE"},null,-1))),be={key:0,class:"ee_desc_box",id:"eeDescBox"},We={key:0,type:"text",name:"ee_description_name_1",class:"sub_text",placeholder:"備考名1"},Ie=["value"],Qe=["value"],Ae={key:3,type:"text",name:"ee_description_name_2",class:"sub_text",placeholder:"備考名2"},Pe=["value"],je=["value"],Be={key:7,class:"form_container"},Te=k((()=>(0,a.Lk)("h3",null,"IP制限（API）",-1))),Oe={key:0,type:"text",name:"api_allow_ip",class:"main_text",rows:"3"},Me=["value"],Ne=["value"],Ue={key:8,class:"form_container"},$e=k((()=>(0,a.Lk)("h3",null,"トライアル期間（終了日時）",-1))),qe={key:0,type:"datetime-local",name:"trial_limit",class:"main_text"},De=["value"],Fe=["value"],Se={key:0},Ve={key:1,class:"form_wrapper"},Ke={class:"form_container"},Ge=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("管理者ログインID"),(0,a.Lk)("span",{class:"required"},"*")],-1))),ze=["value"],He={key:1,type:"text",name:"login_id",class:"main_text"},Ye={key:0,class:"form_container"},Je=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("管理者ログイン名"),(0,a.Lk)("span",{class:"required"},"*")],-1))),Re=k((()=>(0,a.Lk)("input",{type:"text",name:"user_name",class:"main_text"},null,-1))),Ze=[Je,Re],en={key:1,type:"hidden",name:"user_name"},nn={class:"form_container"},tn=k((()=>(0,a.Lk)("h3",null,"IP制限（GUI）",-1))),an={key:0,type:"text",name:"allow_ips",class:"main_text",rows:"3"},on=["value"],ln=["value"],rn={class:"submit_box"},cn={key:1};function _n(e,n,t,o,l,c){const _=(0,a.g2)("LoadingModal"),s=(0,a.g2)("CurrentModal");return(0,a.uX)(),(0,a.CE)(a.FK,null,[l.loading?((0,a.uX)(),(0,a.Wv)(_,{key:0})):(0,a.Q3)("",!0),(0,a.Lk)("form",y,[l.modal_state?((0,a.uX)(),(0,a.Wv)(s,{key:0,tenantval:l.tenantval,form_infos:l.form_infos,origin_infos:l.origin_infos,count:l.count,users:l.users,onInput:n[0]||(n[0]=e=>l.modal_state=e),onLoading:n[1]||(n[1]=e=>l.loading=e)},null,8,["tenantval","form_infos","origin_infos","count","users"])):(0,a.Q3)("",!0),(0,a.Lk)("div",g,[x,(0,a.Lk)("div",h,[(0,a.Lk)("div",L,[(0,a.Lk)("div",X,[C,(0,a.bo)((0,a.Lk)("select",{name:"tenant",id:"selectTenant","onUpdate:modelValue":n[2]||(n[2]=e=>l.tenantval=e),onChange:n[3]||(n[3]=(...e)=>c.getContractors&&c.getContractors(...e))},[E,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.tenants,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e,key:e},(0,r.v_)(e),9,w)))),128))],544),[[i.u1,l.tenantval]])]),""!==l.tenantval?((0,a.uX)(),(0,a.CE)("div",b,[W,(0,a.Lk)("div",I,[(0,a.Lk)("div",Q,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"add","onUpdate:modelValue":n[4]||(n[4]=e=>l.type=e),onChange:n[5]||(n[5]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),A]),(0,a.Lk)("div",P,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"edit","onUpdate:modelValue":n[6]||(n[6]=e=>l.type=e),onChange:n[7]||(n[7]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),j]),(0,a.Lk)("div",B,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"delete","onUpdate:modelValue":n[8]||(n[8]=e=>l.type=e),onChange:n[9]||(n[9]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),T]),(0,a.Lk)("div",O,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"init","onUpdate:modelValue":n[10]||(n[10]=e=>l.type=e),onChange:n[11]||(n[11]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),M])])])):(0,a.Q3)("",!0)])]),""!==l.tenantval&&""!==l.type?((0,a.uX)(),(0,a.CE)("div",N,[U,(0,a.Lk)("div",$,["edit"===l.type||"delete"===l.type||"init"===l.type?((0,a.uX)(),(0,a.CE)("div",q,[D,(0,a.Lk)("select",{name:"contractor_id",class:"main_text",onChange:n[12]||(n[12]=(...e)=>c.selectContractor&&c.selectContractor(...e))},[F,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.contractors,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e.contractor_id,key:e.contractor_id},(0,r.v_)(e.contractor_name),9,S)))),128))],32)])):((0,a.uX)(),(0,a.CE)("div",V,z)),"edit"===l.type&&null!=l.contractor&&"admin"==c.confirmPermission()?((0,a.uX)(),(0,a.CE)("div",H,[Y,(0,a.Lk)("input",{type:"text",value:l.contractor.api_token,class:"main_text",readonly:"",style:{"font-size":"0.5rem"}},null,8,J)])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("div",Z,[ee,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",ne)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"number",name:"allow_device_num",value:l.form_infos.allow_device_num},null,8,te)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"number",name:"allow_device_num",value:l.contractor.allow_device_num},null,8,ie)),(0,a.Lk)("p",ae,[(0,a.eW)("※"+(0,r.v_)(l.tenantval)+"の合計接続台数[ ",1),(0,a.Lk)("span",oe,(0,r.v_)(l.count),1),(0,a.eW)(" ]")])])])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",le,[re,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",ce)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"text",name:"domain",class:"main_text",value:l.form_infos.domain},null,8,_e)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"text",name:"domain",class:"main_text",value:l.contractor.domain},null,8,se))])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",de,[ue,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("div",fe,pe)):((0,a.uX)(),(0,a.CE)("div",ve,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkAPB",name:"apb_mode_flag",checked:l.contractor.apb_mode_flag},null,8,ke),ye])]))])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("div",xe,[he,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("div",Le,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkEE",name:"ee_mode_flag",onChange:n[13]||(n[13]=(...e)=>c.changeEEStatus&&c.changeEEStatus(...e))},null,32),Xe])])):((0,a.uX)(),(0,a.CE)("div",Ce,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkEE",name:"ee_mode_flag",checked:l.contractor.enter_exit_mode_flag,onChange:n[14]||(n[14]=(...e)=>c.changeEEStatus&&c.changeEEStatus(...e))},null,40,Ee),we])]))]),l.ee_flag?((0,a.uX)(),(0,a.CE)("div",be,["edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",We)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"text",name:"ee_description_name_1",class:"sub_text",placeholder:"備考名1",value:l.form_infos.ee_desc_1},null,8,Ie)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"text",name:"ee_description_name_1",class:"sub_text",placeholder:"備考名1",value:l.contractor.enter_exit_description_name1},null,8,Qe)),"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",Ae)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:4,type:"text",name:"ee_description_name_2",class:"sub_text",placeholder:"備考名2",value:l.form_infos.ee_desc_2},null,8,Pe)):((0,a.uX)(),(0,a.CE)("input",{key:5,type:"text",name:"ee_description_name_2",class:"sub_text",placeholder:"備考名2",value:l.contractor.enter_exit_description_name2},null,8,je))])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",Be,[Te,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("textarea",Oe)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("textarea",{key:1,type:"text",name:"api_allow_ip",class:"main_text",value:l.form_infos.api_allow_ip,rows:"3"},null,8,Me)):((0,a.uX)(),(0,a.CE)("textarea",{key:2,type:"text",name:"api_allow_ip",class:"main_text",value:l.contractor.api_allow_ip,rows:"3"},null,8,Ne))])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",Ue,[$e,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",qe)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"datetime-local",name:"trial_limit",class:"main_text",value:c.datetimeConversion(l.form_infos.trial_limit,"value")},null,8,De)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"datetime-local",name:"trial_limit",class:"main_text",value:c.datetimeConversion(l.contractor.trial_limit,"value")},null,8,Fe))])):(0,a.Q3)("",!0)]),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("h2",Se,"ログイン情報")):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",Ve,[(0,a.Lk)("div",Ke,[Ge,"add"!==l.type?((0,a.uX)(),(0,a.CE)("input",{key:0,type:"text",name:"login_id",class:"main_text disable_content",value:l.login_id},null,8,ze)):((0,a.uX)(),(0,a.CE)("input",He))]),"add"===l.type?((0,a.uX)(),(0,a.CE)("div",Ye,Ze)):((0,a.uX)(),(0,a.CE)("input",en)),(0,a.Lk)("div",nn,[tn,"edit"!==l.type||l.user==[]?((0,a.uX)(),(0,a.CE)("textarea",an)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("textarea",{key:1,type:"text",name:"allow_ips",class:"main_text",value:l.form_infos.allow_ips,rows:"3"},null,8,on)):((0,a.uX)(),(0,a.CE)("textarea",{key:2,type:"text",name:"allow_ips",class:"main_text",value:l.user.allow_ips,rows:"3"},null,8,ln))])])):(0,a.Q3)("",!0),(0,a.Lk)("div",rn,[(0,a.Lk)("div",{class:"btn",onClick:n[15]||(n[15]=(...e)=>c.openModal&&c.openModal(...e))},"内容確認")])])):((0,a.uX)(),(0,a.CE)("div",cn))])])],64)}const sn={class:"modal_container"},dn={class:"modal_box"},un=(0,a.Lk)("th",null,"テナント",-1),fn={class:"td_center"},mn={key:0,width:"5%"},pn=(0,a.Lk)("th",null,"区分",-1),vn={class:"td_center"},kn={key:0,width:"5%"},yn=(0,a.Lk)("th",null,"契約名",-1),gn={class:"td_center"},xn={key:0,class:"td_judge"},hn={class:"error_detail"},Ln=(0,a.Lk)("th",null,"接続デバイス上限数",-1),Xn={key:0,class:"td_center"},Cn={key:1,class:"td_center"},En={key:2,class:"td_judge"},wn={class:"error_detail"},bn=(0,a.Lk)("th",null,"サブドメイン",-1),Wn={key:0,class:"td_center"},In={key:1,class:"td_center"},Qn={key:2,class:"td_judge"},An={class:"error_detail"},Pn=(0,a.Lk)("th",null,"APB 機能",-1),jn={key:0,class:"td_center"},Bn={key:1,class:"td_center"},Tn={key:2,class:"td_judge"},On={class:"error_detail"},Mn=(0,a.Lk)("th",null,"入退管理 機能",-1),Nn={key:0,class:"td_center"},Un={key:1,class:"td_center"},$n={key:2,class:"td_center"},qn={key:3,class:"td_judge"},Dn={class:"error_detail"},Fn=(0,a.Lk)("th",null,"IP制限（API）",-1),Sn={key:0,class:"font_ip td_center"},Vn={key:1,class:"font_ip td_center"},Kn={key:2,class:"td_judge"},Gn={class:"error_detail"},zn=(0,a.Lk)("th",null,"トライアル期間",-1),Hn={key:0,class:"td_center"},Yn={key:1,class:"td_center"},Jn={key:2,class:"td_judge"},Rn={class:"error_detail"},Zn=(0,a.Lk)("th",null,"管理者ログインID",-1),et={key:0,class:"td_center"},nt={key:1,class:"td_center"},tt={key:2,class:"td_judge"},it={class:"error_detail"},at={key:0},ot=(0,a.Lk)("th",null,"管理者ログイン名",-1),lt={key:0,class:"td_center"},rt={key:1,class:"td_center"},ct={key:2,class:"td_judge"},_t={class:"error_detail"},st=(0,a.Lk)("th",null,"IP制限（GUI）",-1),dt={key:0,class:"font_ip td_center"},ut={key:1,class:"font_ip td_center"},ft={key:2,class:"td_judge"},mt={class:"error_detail"};function pt(e,n,t,i,o,l){const c=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)("div",{class:"modal_wrapper",onClick:n[1]||(n[1]=(...e)=>l.modalClose&&l.modalClose(...e))},[(0,a.Lk)("div",sn,[(0,a.Lk)("h2",null,"--- "+(0,r.v_)(l.fixType(t.form_infos.fix_type))+"内容確認画面 ---",1),(0,a.Lk)("div",dn,[(0,a.Lk)("table",null,[(0,a.Lk)("tr",null,[un,(0,a.Lk)("td",fn,(0,r.v_)(t.tenantval),1),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",mn,"-")):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[pn,(0,a.Lk)("td",vn,(0,r.v_)(l.fixType(t.form_infos.fix_type)),1),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",kn,"-")):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[yn,(0,a.Lk)("td",gn,(0,r.v_)(t.form_infos.contractor_name),1),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",xn,[l.validate("null","contractor_name")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("length",["contractor_name",30])?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",hn,(0,r.v_)(o.detailList.contractor_name),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Ln,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Xn,(0,r.v_)(t.form_infos.allow_device_num),1)):((0,a.uX)(),(0,a.CE)("td",Cn,(0,r.v_)(t.origin_infos.allow_device_num),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",En,[l.validate("null","allow_device_num")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("allow","allow_device_num")?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("diff","allow_device_num")?((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:3,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",wn,(0,r.v_)(o.detailList.allow_device_num),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[bn,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Wn,(0,r.v_)(t.form_infos.domain),1)):((0,a.uX)(),(0,a.CE)("td",In,(0,r.v_)(t.origin_infos.domain),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Qn,[l.validate("diff","domain")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",An,(0,r.v_)(o.detailList.domain),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Pn,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",jn,(0,r.v_)(t.form_infos.apb_mode_flag?"有効":"無効"),1)):((0,a.uX)(),(0,a.CE)("td",Bn,(0,r.v_)(t.origin_infos.apb_mode_flag?"有効":"無効"),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Tn,[l.validate("diff","apb_mode_flag")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",On,(0,r.v_)(o.detailList.apb_mode_flag),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Mn,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type&&t.form_infos.ee_mode_flag?((0,a.uX)(),(0,a.CE)("td",Nn,[(0,a.eW)(" 有効 "),(0,a.Lk)("div",null,"備考名1["+(0,r.v_)(t.form_infos.ee_desc_1?t.form_infos.ee_desc_1:"備考1")+"] 備考名2["+(0,r.v_)(t.form_infos.ee_desc_2?t.form_infos.ee_desc_2:"備考2")+"]",1)])):"delete"==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type&&t.origin_infos.ee_mode_flag?((0,a.uX)(),(0,a.CE)("td",Un,[(0,a.eW)(" 有効 "),(0,a.Lk)("div",null,"備考名1["+(0,r.v_)(t.origin_infos.ee_desc_1?t.origin_infos.ee_desc_1:"備考1")+"] 備考名2["+(0,r.v_)(t.origin_infos.ee_desc_2?t.origin_infos.ee_desc_2:"備考2")+"]",1)])):((0,a.uX)(),(0,a.CE)("td",$n,"無効")),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",qn,[l.validate("diff","ee_mode_flag")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Dn,(0,r.v_)(o.detailList.ee_mode_flag),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Fn,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Sn,(0,r.v_)(t.form_infos.api_allow_ip),1)):((0,a.uX)(),(0,a.CE)("td",Vn,(0,r.v_)(t.origin_infos.api_allow_ip),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Kn,[l.validate("diff","api_allow_ip")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Gn,(0,r.v_)(o.detailList.api_allow_ip),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[zn,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Hn,(0,r.v_)(t.form_infos.trial_limit),1)):((0,a.uX)(),(0,a.CE)("td",Yn,(0,r.v_)(t.origin_infos.trial_limit),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Jn,[l.validate("diff","trial_limit")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Rn,(0,r.v_)(o.detailList.trial_limit),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Zn,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",et,(0,r.v_)(t.form_infos.login_id),1)):((0,a.uX)(),(0,a.CE)("td",nt,(0,r.v_)(t.origin_infos.login_id),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",tt,[l.validate("null","login_id")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("length",["login_id",30])?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("under","login_id")?((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_error vali_icon",icon:"circle-xmark"})):"add"==t.form_infos.fix_type&&l.validate("duplicate","login_id")?((0,a.uX)(),(0,a.Wv)(c,{key:3,class:"icon_error vali_icon",icon:"circle-xmark"})):((0,a.uX)(),(0,a.Wv)(c,{key:4,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",it,(0,r.v_)(o.detailList.login_id),1)])):(0,a.Q3)("",!0)]),"add"==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("tr",at,[ot,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",lt,(0,r.v_)(t.form_infos.user_name),1)):((0,a.uX)(),(0,a.CE)("td",rt,(0,r.v_)(t.origin_infos.user_name),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",ct,[l.validate("null","user_name")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("length",["user_name",30])?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",_t,(0,r.v_)(o.detailList.user_name),1)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("tr",null,[st,"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",dt,(0,r.v_)(t.form_infos.allow_ips),1)):((0,a.uX)(),(0,a.CE)("td",ut,(0,r.v_)(t.origin_infos.allow_ips),1)),"delete"!==t.form_infos.fix_type&&"init"!==t.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",ft,[l.validate("diff","allow_ips")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",mt,(0,r.v_)(o.detailList.allow_ips),1)])):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",null,[(0,a.Lk)("div",{class:"btn",onClick:n[0]||(n[0]=(...e)=>l.submitAction&&l.submitAction(...e))},"処理実行")])])])}const vt=t(6425);var kt={data(){return{msgList:{null:"未入力もしくは不正値",length:"文字数超過",allow:"テナント合計接続数の超過",diff:"差分の発生",under:"アンダーバー使用不可",duplicate:"テナント内ID重複"},detailList:{contractor_name:"正常値",allow_device_num:"正常値",domain:"正常値",apb_mode_flag:"正常値",ee_mode_flag:"正常値",api_allow_ip:"正常値",trial_limit:"正常値",login_id:"正常値",user_name:"正常値",allow_ips:"正常値"}}},props:{tenantval:String,form_infos:Array,origin_infos:Array,count:Number,users:Array},methods:{fixType:function(e){switch(e){case"add":return"登録";case"edit":return"更新";case"delete":return"削除";case"init":return"初期化";default:return""}},modalClose:function(e){let n=this;e.target.closest(".modal_container")||n.$emit("input",!1)},validate:function(e,n){let t=this,i=!1;switch(e){case"null":t.form_infos[n]||(i=!0);break;case"length":t.form_infos[n[0]].length>n[1]&&(i=!0);break;case"allow":100<t.count+(Number(t.form_infos[n])-Number(t.origin_infos[n]))&&(i=!0);break;case"under":t.form_infos[n].match(/_/g)&&(i=!0);break;case"duplicate":for(let e=0;e<t.users.length;e++)if(t.form_infos[n]===t.users[e].login_id){i=!0;break}break;case"diff":"edit"===t.form_infos.fix_type&&(t.form_infos[n]!=t.origin_infos[n]?i=!0:"ee_mode_flag"==n&&t.form_infos[n]&&(t.form_infos.ee_desc_1===t.origin_infos.ee_desc_1&&t.form_infos.ee_desc_2===t.origin_infos.ee_desc_2||(i=!0)));break;default:break}return i&&(t.detailList[n]=t.msgList[e]),i},submitAction:function(){let e=this;if(document.getElementsByClassName("icon_error").length)alert("エラー箇所があります。確認してください。");else if("delete"!==e.form_infos.fix_type&&"init"!==e.form_infos.fix_type){let n="[ "+e.tenantval+" ]へ";n+="add"===e.form_infos.fix_type?"登録":"更新",n+="処理を開始します",n+=document.getElementsByClassName("icon_warn").length?"\r\n　・内容更新箇所 [ "+document.getElementsByClassName("icon_warn").length+" ]":"",n+=e.form_infos.trial_limit?"\r\n　・デモ環境です（期限[ "+e.form_infos.trial_limit+" ]）":"",confirm(n)&&(e.$emit("loading",!0),"add"===e.form_infos.fix_type?vt.post(location.origin+"/admin/backend/contractor/"+e.tenantval,e.form_infos).then((function(e){let n=e.data.msg;n+="\r\n※※必ず下記を控えてください※※",n+="\r\n▼contractor_id",n+="\r\n"+e.data.contractor_id,n+="\r\n▼api_token",n+="\r\n"+e.data.api_token,n+="\r\n ",n+="\r\n※api_tokenはこの後コピーを行います",alert(n),navigator.clipboard.writeText(e.data.api_token),setTimeout((()=>{alert("api_tokenのコピー完了をご確認ください\r\n※クリップボード許可のポップアップが出ている場合は許可をしてください"),window.location.reload()}),2e3)})).catch((function(n){alert(n.response.data.msg),e.$emit("loading",!1)})):vt.post(location.origin+"/admin/backend/contractor/"+e.tenantval+"/"+e.origin_infos.contractor_id,e.form_infos).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(n){alert(n.response.data.msg),e.$emit("loading",!1)})))}else{let n=e.fixType(e.form_infos.fix_type),t="※"+n+"内容を確認してください※\r\n"+n+"対象テナント【"+e.tenantval+"】\r\n"+n+"契約名【"+e.form_infos.contractor_name+"】";confirm(t)&&(t+="\r\n \r\n※※"+n+"がされると復元できませんがよろしいですか？※※\r\n \r\n実行する場合は「"+n+"開始」と入力しOKを押してください。","delete"==e.form_infos.fix_type&&"削除開始"===prompt(t)?(e.$emit("loading",!0),vt.delete(location.origin+"/admin/backend/delete/"+e.tenantval+"/"+e.origin_infos.contractor_id).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(n){alert(n.response.data.msg),e.$emit("loading",!1)}))):"init"==e.form_infos.fix_type&&"初期化開始"===prompt(t)?(e.$emit("loading",!0),vt.delete(location.origin+"/admin/backend/init/"+e.tenantval+"/"+e.origin_infos.contractor_id).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(n){alert(n.response.data.msg),e.$emit("loading",!1)}))):alert("「削除開始」がキャンセルされました"))}}}};const yt=(0,m.A)(kt,[["render",pt]]);var gt=yt;const xt=e=>((0,a.Qi)("data-v-49cd1390"),e=e(),(0,a.jt)(),e),ht={class:"loading"},Lt=xt((()=>(0,a.Lk)("div",{id:"container"},[(0,a.Lk)("span"),(0,a.Lk)("span"),(0,a.Lk)("span"),(0,a.Lk)("p",null,"LOADING")],-1))),Xt=[Lt];function Ct(e,n,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",ht,Xt)}var Et={data(){return""}};const wt=(0,m.A)(Et,[["render",Ct],["__scopeId","data-v-49cd1390"]]);var bt=wt;const Wt=t(6425);var It={name:"TopPage",components:{CurrentModal:gt,LoadingModal:bt},data(){return{tenantval:"",tenants:["n1","n2","n3","n5","ogsports","k-kyu-m","toyamaBX"],type:"",ee_flag:!1,contractors:[],contractor:null,count:0,user:[],users:[],login_id:"",form_infos:null,origin_infos:null,modal_state:!1,error:"",loading:!1}},methods:{getContractors:function(){let e=this;""!==e.tenantval&&(Wt.get(location.origin+"/admin/backend/contractor/"+e.tenantval).then((function(n){e.contractors=n.data,e.count=0;for(let t=0;t<e.contractors.length;t++)e.count+=e.contractors[t].allow_device_num})),Wt.get(location.origin+"/admin/backend/user/"+e.tenantval).then((function(n){e.users=n.data}))),e.valueInit()},selectContractor:function(e){let n=this;n.valueInit(),n.form_infos=null;for(let t=0;t<n.contractors.length;t++)if(n.contractors[t].contractor_id===Number(e.target.value)){n.contractor=n.contractors[t],n.ee_flag=Boolean(n.contractor.enter_exit_mode_flag);break}Wt.get(location.origin+"/admin/backend/user/"+n.tenantval+"/"+e.target.value).then((function(e){n.user=e.data,n.login_id=e.data.login_id}))},valueInit:function(e=!1){let n=this;n.contractor=null,n.user=[],n.login_id="",n.ee_flag=!1,document.facet_admin_form.login_id&&(document.facet_admin_form.allow_device_num.value="",document.facet_admin_form.domain.value="",document.facet_admin_form.apb_mode_flag.checked=!1,document.facet_admin_form.ee_mode_flag.checked=!1,document.facet_admin_form.api_allow_ip.value="",document.facet_admin_form.trial_limit.value="",document.facet_admin_form.login_id.value="",document.facet_admin_form.user_name.value="",document.facet_admin_form.allow_ips.value="",document.getElementById("eeDescBox")&&(document.facet_admin_form.ee_description_name_1.value="",document.facet_admin_form.ee_description_name_2.value="")),e&&"add"!==n.type&&(document.facet_admin_form.contractor_id.value="")},changeEEStatus:function(){let e=this,n=document.facet_admin_form,t=document.getElementById("checkEE").checked;"edit"===e.type&&(e.form_infos={allow_device_num:n.allow_device_num.value,domain:n.domain.value,api_allow_ip:n.api_allow_ip.value,trial_limit:e.datetimeConversion(n.trial_limit.value,"param"),allow_ips:n.allow_ips.value}),e.ee_flag=t},openModal:function(){let e=this,n=document.facet_admin_form;if("add"!==e.type&&""==n.contractor_id.value)alert("契約名が選択されていません");else{if("delete"!==n.fix_type.value&&"init"!==n.fix_type.value){let t="add"==n.fix_type.value?n.contractor_name.value:e.contractor.contractor_name;e.form_infos={fix_type:n.fix_type.value,contractor_name:t,allow_device_num:n.allow_device_num.value?Number(n.allow_device_num.value):null,domain:n.domain.value?n.domain.value:null,apb_mode_flag:n.apb_mode_flag.checked?1:0,ee_mode_flag:n.ee_mode_flag.checked?1:0,ee_desc_1:n.ee_mode_flag.checked&&n.ee_description_name_1.value?n.ee_description_name_1.value:null,ee_desc_2:n.ee_mode_flag.checked&&n.ee_description_name_2.value?n.ee_description_name_2.value:null,api_allow_ip:n.api_allow_ip.value?n.api_allow_ip.value:null,trial_limit:n.trial_limit.value?e.datetimeConversion(n.trial_limit.value,"param"):null,login_id:n.login_id.value?n.login_id.value:null,user_name:n.user_name.value?n.user_name.value:null,allow_ips:n.allow_ips.value?n.allow_ips.value:null}}else e.form_infos={fix_type:n.fix_type.value,contractor_name:e.contractor.contractor_name};"add"!==n.fix_type.value?e.origin_infos={contractor_id:e.contractor.contractor_id,contractor_name:e.contractor.contractor_name,allow_device_num:e.contractor.allow_device_num,domain:e.contractor.domain,apb_mode_flag:e.contractor.apb_mode_flag?1:0,ee_mode_flag:e.contractor.enter_exit_mode_flag?1:0,ee_desc_1:e.contractor.enter_exit_description_name1,ee_desc_2:e.contractor.enter_exit_description_name2,api_allow_ip:e.contractor.api_allow_ip,trial_limit:e.contractor.trial_limit,login_id:e.user.login_id,user_name:e.user.user_name,allow_ips:e.user.allow_ips}:e.origin_infos=null,e.modal_state=!0}},datetimeConversion:function(e,n){if(e){if("value"===n){let n=e.split(" "),t=n[1].split(":");return n[0]+"T"+t[0]+":"+t[1]}return e.replace("T"," ")+":00"}return e},confirmPermission:function(){return document.getElementById("basicLoginUser").textContent}}};const Qt=(0,m.A)(It,[["render",_n],["__scopeId","data-v-1353d8da"]]);var At=Qt,Pt={name:"App",components:{MainHeader:v,TopPage:At},data(){return{loading:!1}}};const jt=(0,m.A)(Pt,[["render",l]]);var Bt=jt,Tt=t(8950),Ot=t(2353),Mt=t(292);Tt.Yv.add(Ot.X7I);const Nt=(0,i.Ef)(Bt);Nt.component("font-awesome-icon",Mt.gc),Nt.mount("#app")}},n={};function t(i){var a=n[i];if(void 0!==a)return a.exports;var o=n[i]={exports:{}};return e[i].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,i,a,o){if(!i){var l=1/0;for(s=0;s<e.length;s++){i=e[s][0],a=e[s][1],o=e[s][2];for(var r=!0,c=0;c<i.length;c++)(!1&o||l>=o)&&Object.keys(t.O).every((function(e){return t.O[e](i[c])}))?i.splice(c--,1):(r=!1,o<l&&(l=o));if(r){e.splice(s--,1);var _=a();void 0!==_&&(n=_)}}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[i,a,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var a,o,l=i[0],r=i[1],c=i[2],_=0;if(l.some((function(n){return 0!==e[n]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(c)var s=c(t)}for(n&&n(i);_<l.length;_++)o=l[_],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(s)},i=self["webpackChunkagain"]=self["webpackChunkagain"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[504],(function(){return t(7461)}));i=t.O(i)})();
//# sourceMappingURL=app.f5d841a3.js.map